module.exports=[5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},50201,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(99570);let e=[{value:"ytd",label:"Year to date"},{value:"12m",label:"Last 12 months"}];function f({currentRange:a}){let f=(0,c.useRouter)(),g=(0,c.usePathname)(),h=(0,c.useSearchParams)();return(0,b.jsx)("div",{className:"flex items-center gap-2 rounded-2xl border border-slate-200 bg-white p-1",children:e.map(c=>(0,b.jsx)(d.Button,{type:"button",variant:c.value===a?"primary":"ghost",size:"sm",className:"rounded-xl",onClick:()=>{var a;let b;return a=c.value,void((b=new URLSearchParams(h.toString())).set("range",a),f.replace(`${g}?${b.toString()}`))},children:c.label},c.value))})}a.s(["DashboardRangeSelector",()=>f])},2048,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(5050),f=(0,e.createServerReference)("0079642c756b10993ed74226cd177e619c7bf8b6b7",e.callServer,void 0,e.findSourceMapURL,"syncIntegrationsAction");function g({statuses:a}){let[e,g]=(0,c.useTransition)(),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(a);function n(a){return a?a.error?`Failed \xb7 ${a.error}`:`Last synced ${function(a){if(!a)return"Never synced";let b=new Date(a);return Number.isNaN(b.getTime())?"Unknown":b.toLocaleString()}(a.timestamp)} \xb7 ${a.synced??0} records`:"Never synced"}return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 text-sm md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"eTapestry"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-700",children:n(l.etapestry)})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Eventbrite"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-700",children:n(l.eventbrite)})]})]}),(0,b.jsx)(d.Button,{type:"button",variant:"primary",onClick:function(){i(null),k(null),g(async()=>{try{let a=await f();if(!a.success)return void k(a.errors?.join(" ")??"Unable to sync data.");let b=new Date().toISOString();m({etapestry:{synced:a.result.etapestry?.synced,timestamp:b},eventbrite:{synced:a.result.eventbrite?.synced,timestamp:b}}),i(`eTapestry synced ${a.result.etapestry?.synced??0} pledges \xb7 Eventbrite synced ${a.result.eventbrite?.synced??0} events.`)}catch(a){console.error(a),k(a instanceof Error?a.message:"Failed to sync data.")}})},disabled:e,children:e?"Syncing data...":"Sync data sources"}),h?(0,b.jsx)("p",{className:"text-xs text-green-600",children:h}):null,j?(0,b.jsx)("p",{className:"text-xs text-red-500",children:j}):null]})}a.s(["IntegrationSyncPanel",()=>g],2048)}];

//# sourceMappingURL=_8de74a95._.js.map