module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},70844,a=>{a.n(a.i(92359))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},31290,96818,18956,99602,10236,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}function e(a,b,e){let f=d(a,e?.in);return isNaN(b)?c(e?.in||a,NaN):(b&&f.setDate(f.getDate()+b),f)}function f(a,b,c){return e(a,-b,c)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInMinute",0,6e4,"millisecondsInWeek",0,6048e5],96818),a.s(["constructFrom",()=>c],18956),a.s(["toDate",()=>d],99602),a.s(["addDays",()=>e],10236),a.s(["subDays",()=>f],31290)},35330,84347,14962,a=>{"use strict";var b=a.i(7997);let c=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d};function d({title:a,description:d,className:e,children:f,actions:g}){return(0,b.jsxs)("section",{className:c("card p-6 space-y-4",e),children:[(a||d||g)&&(0,b.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[a?(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:a}):null,d?(0,b.jsx)("p",{className:"text-sm text-slate-500",children:d}):null]}),g]}),(0,b.jsx)("div",{children:f})]})}function e({eyebrow:a,title:d,description:e,actions:f,children:g,className:h}){return(0,b.jsxs)("section",{className:c("relative overflow-hidden rounded-[32px] border border-white/60 bg-white/80 p-6 shadow-[0px_25px_60px_rgba(15,23,42,0.08)] backdrop-blur",h),children:[(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute -top-16 -right-8 h-48 w-48 rounded-full bg-brand/15 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-[-60px] left-[-40px] h-44 w-44 rounded-full bg-accent/10 blur-3xl"})]}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-wrap items-start gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[a?(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-100/70 bg-slate-50/80 px-3 py-1 text-xs font-semibold uppercase tracking-[0.16em] text-slate-500",children:a}):null,(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold leading-tight text-slate-900",children:d}),e?(0,b.jsx)("p",{className:"mt-2 max-w-3xl text-sm text-slate-600",children:e}):null]})]}),f?(0,b.jsx)("div",{className:"ml-auto flex flex-col items-stretch gap-3",children:f}):null]}),g?(0,b.jsx)("div",{className:"relative z-10 mt-6",children:g}):null]})}function f({items:a,columns:d=3}){return(0,b.jsx)("div",{className:c("grid gap-4 text-sm text-slate-600",2===d?"sm:grid-cols-2":4===d?"sm:grid-cols-2 lg:grid-cols-4":"sm:grid-cols-3"),children:a.map(a=>(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-100/70 bg-white/90 px-4 py-3 shadow-inner shadow-slate-200/70",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:a.label}),(0,b.jsx)("p",{className:"mt-1 text-base font-semibold text-slate-900",children:a.value}),a.helper?(0,b.jsx)("p",{className:"mt-0.5 text-xs text-slate-500",children:a.helper}):null]},`${a.label}-${a.value}`))})}a.s(["default",0,c],84347),a.s(["Card",()=>d],35330),a.s(["PageHeader",()=>e,"PageHeaderMeta",()=>f],14962)},43116,a=>{"use strict";function b(a,c="USD",d=0){return new Intl.NumberFormat("en-US",{style:"currency",currency:c,maximumFractionDigits:d}).format(a)}function c(a,b=0){return new Intl.NumberFormat("en-US",{maximumFractionDigits:b}).format(a)}function d(a,b=1){return new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:b}).format(a)}function e(a,b={month:"short",day:"numeric",year:"numeric"}){let c="string"==typeof a?new Date(a):a;return new Intl.DateTimeFormat("en-US",b).format(c)}a.s(["formatCurrency",()=>b,"formatDate",()=>e,"formatNumber",()=>c,"formatPercent",()=>d])},48461,a=>{"use strict";var b=a.i(99602);function c(a,c){let d=(0,b.toDate)(a,c?.in);return d.setHours(0,0,0,0),d}a.s(["startOfDay",()=>c])},95805,a=>{"use strict";var b=a.i(99602);function c(a,c){let d=(0,b.toDate)(a,c?.in);return d.setDate(1),d.setHours(0,0,0,0),d}a.s(["startOfMonth",()=>c])},7950,a=>{"use strict";var b=a.i(18956),c=a.i(99602);function d(a,d,e){return function(a,d,e){let f=(0,c.toDate)(a,e?.in);if(isNaN(d))return(0,b.constructFrom)(e?.in||a,NaN);if(!d)return f;let g=f.getDate(),h=(0,b.constructFrom)(e?.in||a,f.getTime());return(h.setMonth(f.getMonth()+d+1,0),g>=h.getDate())?h:(f.setFullYear(h.getFullYear(),h.getMonth(),g),f)}(a,-d,e)}a.s(["subMonths",()=>d],7950)},65314,a=>{"use strict";var b=a.i(12208),c=a.i(95805),d=a.i(99602),e=a.i(7950);function f(a=12,g=new Date){let h=[],i=(0,c.startOfMonth)(g);for(let c=a-1;c>=0;c-=1){let a=(0,e.subMonths)(i,c);h.push({key:(0,b.format)(a,"yyyy-MM"),label:(0,b.format)(a,"MMM yy"),start:a,end:function(a,b){let c=(0,d.toDate)(a,void 0),e=c.getMonth();return c.setFullYear(c.getFullYear(),e+1,0),c.setHours(23,59,59,999),c}(a)})}return h}a.s(["getMonthlyBuckets",()=>f],65314)},44568,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DashboardRangeSelector() from the server but DashboardRangeSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/range-selector.tsx <module evaluation>","DashboardRangeSelector");a.s(["DashboardRangeSelector",0,b])},42942,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DashboardRangeSelector() from the server but DashboardRangeSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/range-selector.tsx","DashboardRangeSelector");a.s(["DashboardRangeSelector",0,b])},92036,a=>{"use strict";a.i(44568);var b=a.i(42942);a.n(b)},843,a=>{"use strict";var b=a.i(7997),c=a.i(717);let d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,c.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,c.createElement)("svg",{ref:l,...e,width:b,height:b,stroke:a,strokeWidth:g?24*Number(f)/Number(b):f,className:d("lucide",h),...k},[...j.map(([a,b])=>(0,c.createElement)(a,b)),...Array.isArray(i)?i:[i]])),g=(a,b)=>{let e=(0,c.forwardRef)(({className:e,...g},h)=>(0,c.createElement)(f,{ref:h,iconNode:b,className:d(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,e),...g}));return e.displayName=`${a}`,e},h=g("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),i=g("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),j=g("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),k=g("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);var l=a.i(35330),m=a.i(58388),n=a.i(35988),o=a.i(43116),p=a.i(14962),q=a.i(92036);async function r({searchParams:a}){let c=await a,d="12m"===(Array.isArray(c?.range)?c?.range[0]:c?.range)?"12m":"ytd",e=await (0,n.getDashboardData)(d);return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsx)(p.PageHeader,{eyebrow:"Executive view",title:"Mission Control",description:"Funds, community engagement, and digital reach in one place.",actions:(0,b.jsx)(q.DashboardRangeSelector,{currentRange:d}),children:(0,b.jsx)(p.PageHeaderMeta,{items:[{label:"Current range",value:"12m"===d?"Last 12 months":"Year to date"},{label:"Data sources",value:"eTapestry · Eventbrite · GA4",helper:"Synced securely via service accounts"},{label:"Refresh cadence",value:"Every 60 minutes",helper:"Automatic background sync"}]})}),(0,b.jsxs)("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[(0,b.jsxs)(l.Card,{className:"space-y-3 bg-gradient-to-br from-brand/10 via-white to-white",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-widest text-slate-500",children:[(0,b.jsxs)("span",{children:["Funds raised (","12m"===d?"12 months":"YTD",")"]}),(0,b.jsx)(h,{className:"h-5 w-5 text-brand"})]}),(0,b.jsx)("p",{className:"text-4xl font-semibold text-slate-900",children:(0,o.formatCurrency)(e.kpis.fundsYtd)}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Includes pledges received and committed."})]}),(0,b.jsxs)(l.Card,{className:"space-y-3 bg-gradient-to-br from-slate-50 via-white to-white",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-widest text-slate-500",children:[(0,b.jsx)("span",{children:"Active donors"}),(0,b.jsx)(k,{className:"h-5 w-5 text-brand-light"})]}),(0,b.jsx)("p",{className:"text-4xl font-semibold text-slate-900",children:(0,o.formatNumber)(e.kpis.activeDonors)}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Last gift within the past 12 months."})]}),(0,b.jsxs)(l.Card,{className:"space-y-3 bg-gradient-to-br from-white via-slate-50 to-white",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-widest text-slate-500",children:[(0,b.jsx)("span",{children:"Events + tickets"}),(0,b.jsx)(j,{className:"h-5 w-5 text-brand"})]}),(0,b.jsxs)("p",{className:"text-4xl font-semibold text-slate-900",children:[(0,o.formatNumber)(e.kpis.eventsThisYear)," ",(0,b.jsx)("span",{className:"text-base text-slate-500",children:"events"})]}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-slate-800",children:[(0,o.formatNumber)(e.kpis.ticketsSold)," tickets sold"]})]}),(0,b.jsxs)(l.Card,{className:"space-y-3 bg-gradient-to-br from-white via-white to-slate-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-widest text-slate-500",children:[(0,b.jsx)("span",{children:"Website sessions (30d)"}),(0,b.jsx)(i,{className:"h-5 w-5 text-brand-light"})]}),(0,b.jsx)("p",{className:"text-4xl font-semibold text-slate-900",children:(0,o.formatNumber)(e.kpis.sessionsLast30Days)}),e.kpis.gaError?(0,b.jsx)("p",{className:"text-xs text-red-500",children:e.kpis.gaError}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Source: Google Analytics 4"})]})]}),(0,b.jsx)(l.Card,{title:"Performance trends",description:"Funds, ticketing, and sessions across the last 12 months",children:(0,b.jsx)(m.TimeSeriesChart,{data:e.charts.monthly,lines:[{dataKey:"funds",color:"#0f172a",name:"Funds raised",strokeWidth:3},{dataKey:"tickets",color:"#f97316",name:"Tickets sold",strokeWidth:3},{dataKey:"sessions",color:"#2563eb",name:"Sessions",strokeWidth:3}]})})]})}a.s(["default",()=>r],843)},85685,a=>{a.v(a=>Promise.resolve().then(()=>a(54799)))},6179,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[externals]_tty_33e910c0._.js","server/chunks/ssr/node_modules_9b06bcf1._.js"].map(b=>a.l(b))).then(()=>b(48081)))},90407,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__9eaab4c4._.js","server/chunks/ssr/node_modules_df13f179._.js","server/chunks/ssr/node_modules_node-fetch_src_index_3793b177.js"].map(b=>a.l(b))).then(()=>b(25659)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c164338a._.js.map