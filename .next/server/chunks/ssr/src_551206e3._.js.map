{"version":3,"sources":["../../../../src/components/ui/input.tsx","../../../../src/app/%28dashboard%29/analytics/_components/range-controls.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { forwardRef } from \"react\";\r\nimport type { InputHTMLAttributes } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  error?: string;\r\n}\r\n\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(function Input({ className, error, ...props }, ref) {\r\n  return (\r\n    <div className=\"space-y-1\">\r\n      <input\r\n        ref={ref}\r\n        className={clsx(\r\n          \"w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/30\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n      {error ? <p className=\"text-xs text-red-500\">{error}</p> : null}\r\n    </div>\r\n  );\r\n});\r\n\r\n","\"use client\";\r\n\r\nimport { usePathname, useRouter, useSearchParams } from 'next/navigation';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { useState, useTransition } from 'react';\r\n\r\nconst presets = [\r\n  { label: '7 days', days: 7 },\r\n  { label: '30 days', days: 30 },\r\n  { label: '90 days', days: 90 }\r\n];\r\n\r\ninterface RangeControlsProps {\r\n  initialFrom: string;\r\n  initialTo: string;\r\n}\r\n\r\nexport function AnalyticsRangeControls({ initialFrom, initialTo }: RangeControlsProps) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n  const [from, setFrom] = useState(initialFrom);\r\n  const [to, setTo] = useState(initialTo);\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  function updateRange(updates: { from?: string; to?: string }) {\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    if (updates.from !== undefined) {\r\n      if (updates.from) {\r\n        params.set('from', updates.from);\r\n        setFrom(updates.from);\r\n      } else {\r\n        params.delete('from');\r\n        setFrom('');\r\n      }\r\n    }\r\n    if (updates.to !== undefined) {\r\n      if (updates.to) {\r\n        params.set('to', updates.to);\r\n        setTo(updates.to);\r\n      } else {\r\n        params.delete('to');\r\n        setTo('');\r\n      }\r\n    }\r\n    startTransition(() => {\r\n      router.push(`${pathname}?${params.toString()}`);\r\n    });\r\n  }\r\n\r\n  function handlePreset(days: number) {\r\n    const end = new Date();\r\n    const start = new Date();\r\n    start.setDate(end.getDate() - days);\r\n    updateRange({\r\n      from: start.toISOString().slice(0, 10),\r\n      to: end.toISOString().slice(0, 10)\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"rounded-[24px] border border-white/70 bg-white/90 p-4 shadow-[0_15px_40px_rgba(15,23,42,0.08)] backdrop-blur\">\r\n      <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-500\">Date range</p>\r\n      <div className=\"mt-3 flex flex-wrap gap-2\">\r\n        {presets.map((preset) => (\r\n          <Button key={preset.days} type=\"button\" variant=\"ghost\" size=\"sm\" onClick={() => handlePreset(preset.days)}>\r\n            {preset.label}\r\n          </Button>\r\n        ))}\r\n      </div>\r\n      <div className=\"mt-4 flex flex-wrap gap-3\">\r\n        <div>\r\n          <p className=\"text-xs text-slate-500\">From</p>\r\n          <Input\r\n            type=\"date\"\r\n            value={from}\r\n            onChange={(event) => setFrom(event.target.value)}\r\n            onBlur={(event) => updateRange({ from: event.currentTarget.value })}\r\n          />\r\n        </div>\r\n        <div>\r\n          <p className=\"text-xs text-slate-500\">To</p>\r\n          <Input\r\n            type=\"date\"\r\n            value={to}\r\n            onChange={(event) => setTo(event.target.value)}\r\n            onBlur={(event) => updateRange({ to: event.currentTarget.value })}\r\n          />\r\n        </div>\r\n      </div>\r\n      {isPending ? <p className=\"mt-3 text-xs font-semibold uppercase tracking-wide text-slate-400\">Updating...</p> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}