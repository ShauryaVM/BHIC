module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},70844,a=>{a.n(a.i(92359))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},31290,96818,18956,99602,10236,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}function e(a,b,e){let f=d(a,e?.in);return isNaN(b)?c(e?.in||a,NaN):(b&&f.setDate(f.getDate()+b),f)}function f(a,b,c){return e(a,-b,c)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInMinute",0,6e4,"millisecondsInWeek",0,6048e5],96818),a.s(["constructFrom",()=>c],18956),a.s(["toDate",()=>d],99602),a.s(["addDays",()=>e],10236),a.s(["subDays",()=>f],31290)},35330,84347,14962,a=>{"use strict";var b=a.i(7997);let c=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d};function d({title:a,description:d,className:e,children:f,actions:g}){return(0,b.jsxs)("section",{className:c("card p-6 space-y-4",e),children:[(a||d||g)&&(0,b.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[a?(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:a}):null,d?(0,b.jsx)("p",{className:"text-sm text-slate-500",children:d}):null]}),g]}),(0,b.jsx)("div",{children:f})]})}function e({eyebrow:a,title:d,description:e,actions:f,children:g,className:h}){return(0,b.jsxs)("section",{className:c("relative overflow-hidden rounded-[32px] border border-white/60 bg-white/80 p-6 shadow-[0px_25px_60px_rgba(15,23,42,0.08)] backdrop-blur",h),children:[(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute -top-16 -right-8 h-48 w-48 rounded-full bg-brand/15 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-[-60px] left-[-40px] h-44 w-44 rounded-full bg-accent/10 blur-3xl"})]}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-wrap items-start gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[a?(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-100/70 bg-slate-50/80 px-3 py-1 text-xs font-semibold uppercase tracking-[0.16em] text-slate-500",children:a}):null,(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold leading-tight text-slate-900",children:d}),e?(0,b.jsx)("p",{className:"mt-2 max-w-3xl text-sm text-slate-600",children:e}):null]})]}),f?(0,b.jsx)("div",{className:"ml-auto flex flex-col items-stretch gap-3",children:f}):null]}),g?(0,b.jsx)("div",{className:"relative z-10 mt-6",children:g}):null]})}function f({items:a,columns:d=3}){return(0,b.jsx)("div",{className:c("grid gap-4 text-sm text-slate-600",2===d?"sm:grid-cols-2":4===d?"sm:grid-cols-2 lg:grid-cols-4":"sm:grid-cols-3"),children:a.map(a=>(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-100/70 bg-white/90 px-4 py-3 shadow-inner shadow-slate-200/70",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:a.label}),(0,b.jsx)("p",{className:"mt-1 text-base font-semibold text-slate-900",children:a.value}),a.helper?(0,b.jsx)("p",{className:"mt-0.5 text-xs text-slate-500",children:a.helper}):null]},`${a.label}-${a.value}`))})}a.s(["default",0,c],84347),a.s(["Card",()=>d],35330),a.s(["PageHeader",()=>e,"PageHeaderMeta",()=>f],14962)},43116,a=>{"use strict";function b(a,c="USD",d=0){return new Intl.NumberFormat("en-US",{style:"currency",currency:c,maximumFractionDigits:d}).format(a)}function c(a,b=0){return new Intl.NumberFormat("en-US",{maximumFractionDigits:b}).format(a)}function d(a,b=1){return new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:b}).format(a)}function e(a,b={month:"short",day:"numeric",year:"numeric"}){let c="string"==typeof a?new Date(a):a;return new Intl.DateTimeFormat("en-US",b).format(c)}a.s(["formatCurrency",()=>b,"formatDate",()=>e,"formatNumber",()=>c,"formatPercent",()=>d])},48461,a=>{"use strict";var b=a.i(99602);function c(a,c){let d=(0,b.toDate)(a,c?.in);return d.setHours(0,0,0,0),d}a.s(["startOfDay",()=>c])},45310,a=>{"use strict";var b=a.i(7997),c=a.i(84347);function d({children:a,className:d}){return(0,b.jsx)("table",{className:(0,c.default)("min-w-full divide-y divide-slate-200",d),children:a})}function e({children:a}){return(0,b.jsx)("thead",{className:"bg-slate-50",children:(0,b.jsx)("tr",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:a})})}function f({children:a}){return(0,b.jsx)("tbody",{className:"divide-y divide-slate-100 bg-white text-sm text-slate-700",children:a})}function g({children:a,align:d="left",className:e}){return(0,b.jsx)("th",{scope:"col",className:(0,c.default)("px-4 py-3",{"text-left":"left"===d,"text-center":"center"===d,"text-right":"right"===d},e),children:a})}function h({children:a,align:d="left",className:e}){return(0,b.jsx)("td",{className:(0,c.default)("px-4 py-3",{"text-left":"left"===d,"text-center":"center"===d,"text-right":"right"===d},e),children:a})}a.s(["TBody",()=>f,"TD",()=>h,"TH",()=>g,"THead",()=>e,"Table",()=>d])},78824,a=>{"use strict";var b=a.i(31290),c=a.i(4709);function d(){let a=new Date;return{from:(0,b.subDays)(a,30),to:a}}async function e(a){let[b,d,e]=await Promise.all([(0,c.getSummaryMetrics)(a),(0,c.getSessionsOverTime)({...a,granularity:"DAILY"}),(0,c.getTopPages)(a)]);return{summary:b,sessionsSeries:d,topPages:e}}a.s(["defaultAnalyticsFilters",()=>d,"getAnalyticsData",()=>e])},48344,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call BarChartComponent() from the server but BarChartComponent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/charts/bar-chart.tsx <module evaluation>","BarChartComponent");a.s(["BarChartComponent",0,b])},93003,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call BarChartComponent() from the server but BarChartComponent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/charts/bar-chart.tsx","BarChartComponent");a.s(["BarChartComponent",0,b])},9170,a=>{"use strict";a.i(48344);var b=a.i(93003);a.n(b)},23529,a=>{"use strict";var b=a.i(10236),c=a.i(48461),d=a.i(31290),e=a.i(66518);async function f(a={}){let b=function(a){if(!a.from&&!a.to)return{};let b={};return(a.from||a.to)&&(b.startDate={...a.from?{gte:a.from}:{},...a.to?{lte:a.to}:{}}),b}(a);try{let a=(await e.prisma.event.findMany({where:b,orderBy:{startDate:"desc"}})).map(a=>{let b,c;return{...a,grossRevenue:(b=a.grossRevenue,Number(b??0)),netRevenue:(c=a.netRevenue,Number(c??0))}}),c=new Date,d=a.filter(a=>a.startDate>=c).length,f=a.length-d,g=a.reduce((a,b)=>a+b.ticketsSold,0),h=a.reduce((a,b)=>a+Number(b.grossRevenue??0),0),i=a.reduce((a,b)=>a+Number(b.netRevenue??0),0);return{events:a,summary:{upcomingEvents:d,pastEvents:f,ticketsSold:g,grossRevenue:h,netRevenue:i},charts:{ticketsPerEvent:a.map(a=>({name:a.name,tickets:a.ticketsSold})),revenuePerEvent:a.map(a=>({name:a.name,gross:Number(a.grossRevenue??0),net:Number(a.netRevenue??0)}))}}}catch(a){return console.warn("Unable to load events data, returning empty snapshot",a instanceof Error?a.message:a),{events:[],summary:{upcomingEvents:0,pastEvents:0,ticketsSold:0,grossRevenue:0,netRevenue:0},charts:{ticketsPerEvent:[],revenuePerEvent:[]}}}}function g(){return{from:(0,d.subDays)((0,c.startOfDay)(new Date),90),to:(0,b.addDays)((0,c.startOfDay)(new Date),180)}}a.s(["defaultEventFilters",()=>g,"getEventsData",()=>f])},7950,a=>{"use strict";var b=a.i(18956),c=a.i(99602);function d(a,d,e){return function(a,d,e){let f=(0,c.toDate)(a,e?.in);if(isNaN(d))return(0,b.constructFrom)(e?.in||a,NaN);if(!d)return f;let g=f.getDate(),h=(0,b.constructFrom)(e?.in||a,f.getTime());return(h.setMonth(f.getMonth()+d+1,0),g>=h.getDate())?h:(f.setFullYear(h.getFullYear(),h.getMonth(),g),f)}(a,-d,e)}a.s(["subMonths",()=>d],7950)},95805,a=>{"use strict";var b=a.i(99602);function c(a,c){let d=(0,b.toDate)(a,c?.in);return d.setDate(1),d.setHours(0,0,0,0),d}a.s(["startOfMonth",()=>c])},65314,a=>{"use strict";var b=a.i(12208),c=a.i(95805),d=a.i(99602),e=a.i(7950);function f(a=12,g=new Date){let h=[],i=(0,c.startOfMonth)(g);for(let c=a-1;c>=0;c-=1){let a=(0,e.subMonths)(i,c);h.push({key:(0,b.format)(a,"yyyy-MM"),label:(0,b.format)(a,"MMM yy"),start:a,end:function(a,b){let c=(0,d.toDate)(a,void 0),e=c.getMonth();return c.setFullYear(c.getFullYear(),e+1,0),c.setHours(23,59,59,999),c}(a)})}return h}a.s(["getMonthlyBuckets",()=>f],65314)},92924,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call PieChartComponent() from the server but PieChartComponent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/charts/pie-chart.tsx <module evaluation>","PieChartComponent");a.s(["PieChartComponent",0,b])},30270,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call PieChartComponent() from the server but PieChartComponent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/charts/pie-chart.tsx","PieChartComponent");a.s(["PieChartComponent",0,b])},37069,a=>{"use strict";a.i(92924);var b=a.i(30270);a.n(b)},55703,a=>{"use strict";var b=a.i(95805),c=a.i(31290),d=a.i(7950),e=a.i(66518),f=a.i(65314);async function g(a){let{page:g,pageSize:h,query:i,minTotalGiven:j,lastGiftFrom:k,lastGiftTo:l}=a,m={},n=[{name:"< $1k",min:0,max:1e3},{name:"$1k - $5k",min:1e3,max:5e3},{name:"$5k - $10k",min:5e3,max:1e4},{name:"$10k+",min:1e4,max:1/0}],o=(0,f.getMonthlyBuckets)(12);i&&(m.OR=[{name:{contains:i,mode:"insensitive"}},{email:{contains:i,mode:"insensitive"}}]),j&&(m.totalGiven={gte:j}),(k||l)&&(m.lastGiftDate={},k&&(m.lastGiftDate.gte=k),l&&(m.lastGiftDate.lte=l));try{let a,[f,i,j,k,l,p,q]=await Promise.all([e.prisma.donor.count({where:m}),e.prisma.donor.findMany({where:m,orderBy:{totalGiven:"desc"},take:h,skip:(g-1)*h,select:{id:!0,name:!0,email:!0,phone:!0,totalGiven:!0,totalPledged:!0,lastGiftDate:!0}}),e.prisma.donor.count(),e.prisma.donor.count({where:{lastGiftDate:{gte:(0,c.subDays)(new Date,365)}}}),e.prisma.donor.aggregate({_avg:{totalGiven:!0}}),e.prisma.donor.findMany({where:{createdAt:{gte:(0,d.subMonths)((0,b.startOfMonth)(new Date),11)}},select:{createdAt:!0}}),e.prisma.donor.findMany({select:{totalGiven:!0}})]),r=i.map(a=>{let b,c;return{...a,totalGiven:(b=a.totalGiven,Number(b??0)),totalPledged:(c=a.totalPledged,Number(c??0))}}),s=o.map(a=>({label:a.label,value:p.filter(b=>b.createdAt>=a.start&&b.createdAt<=a.end).length})),t=n.map(a=>({name:a.name,value:q.filter(b=>{let c,d=(c=b.totalGiven,Number(c??0));return d>=a.min&&d<a.max}).length}));return{donors:r,pagination:{page:g,pageSize:h,total:f,totalPages:Math.max(1,Math.ceil(f/h))},summary:{totalDonors:j,activeDonors:k,averageLifetimeValue:(a=l._avg.totalGiven,Number(a??0))},charts:{acquisitions:s,giftDistribution:t}}}catch(a){return console.error("Failed to load donor list data. Serving fallback dataset.",a),function({page:a,pageSize:b,acquisitionBuckets:c,giftRanges:d}){return{donors:[],pagination:{page:a,pageSize:b,total:0,totalPages:1},summary:{totalDonors:0,activeDonors:0,averageLifetimeValue:0},charts:{acquisitions:c.map(a=>({label:a.label,value:0})),giftDistribution:d.map(a=>({name:a.name,value:0}))}}}({page:g,pageSize:h,acquisitionBuckets:o,giftRanges:n})}}a.s(["getDonorList",()=>g])},80050,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call InsightsReportButton() from the server but InsightsReportButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/insights/_components/insights-report-button.tsx <module evaluation>","InsightsReportButton");a.s(["InsightsReportButton",0,b])},78617,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call InsightsReportButton() from the server but InsightsReportButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/insights/_components/insights-report-button.tsx","InsightsReportButton");a.s(["InsightsReportButton",0,b])},31699,a=>{"use strict";a.i(80050);var b=a.i(78617);a.n(b)},98696,a=>{"use strict";var b=a.i(7997),c=a.i(35330),d=a.i(45310),e=a.i(14962),f=a.i(58388),g=a.i(9170),h=a.i(37069),i=a.i(43116),j=a.i(7950),k=a.i(35988),l=a.i(23529),m=a.i(78824),n=a.i(55703);function o(a,b){return Number.isFinite(a)&&Number.isFinite(b)&&0!==b?(a-b)/Math.abs(b):0}function p(a,b){if(!a.length||b<=0)return 0;let c=a.slice(-b);return c.length?c.reduce((a,b)=>a+b,0)/c.length:0}function q(a,b,c,d){return a>.05?"positive":a<-.05?"negative":"neutral"}async function r(){let a=new Date,b={from:(0,j.subMonths)(a,11),to:a},c=(0,l.defaultEventFilters)(),d=(0,m.defaultAnalyticsFilters)(),[e,f,g,h]=await Promise.all([(0,k.getDashboardData)("12m"),(0,n.getDonorList)({page:1,pageSize:5}),(0,l.getEventsData)(c),(0,m.getAnalyticsData)(d)]),i=function(a){if(a.length<4)return 0;let b=a.map(a=>a.funds);return o(p(b,3),p(b.slice(0,-3),3))}(e.charts.monthly),r=function(a){if(a.length<14)return 0;let b=a.map(a=>a.value);return o(p(b.slice(-7),7),p(b.slice(-14,-7),7))}(h.sessionsSeries.points),s=function(a){let b=a.filter(a=>a.ticketsTotal>0);if(!b.length)return 0;let c=b.reduce((a,b)=>a+b.ticketsTotal,0),d=b.reduce((a,b)=>a+b.ticketsSold,0);return 0===c?0:d/c}(g.events),t=g.events.slice().sort((a,b)=>b.grossRevenue-a.grossRevenue)[0],u=h.topPages.rows[0],v=f.donors[0],w=function(a){let b=[];if(b.push({title:"Giving momentum",description:a.fundsMomentum>.05?"Monthly funds raised increased compared to the prior quarter.":a.fundsMomentum<-.05?"Funds raised dipped versus the prior quarter—consider a donor re-engagement push.":"Giving volume is steady when compared to the previous quarter.",impact:q(a.fundsMomentum,"positive","negative","neutral")}),b.push({title:"Digital engagement",description:a.sessionsMomentum>.05?"Website sessions grew over the last two weeks, showing healthy traffic momentum.":a.sessionsMomentum<-.05?"Sessions trended down in the past two weeks; review campaign and content cadence.":"Sessions are holding steady week over week.",impact:q(a.sessionsMomentum,"positive","negative","neutral")}),b.push({title:"Event demand",description:a.avgOccupancy>=.85?"Event attendance is exceeding 85% capacity—consider adding more sessions.":a.avgOccupancy<=.55?"Average attendance is below 55% of capacity—review pricing or promotion.":"Event attendance is healthy with mid-level capacity fill.",impact:a.avgOccupancy>=.85?"positive":a.avgOccupancy<=.55?"negative":"neutral"}),a.topDonor&&b.push({title:`${a.topDonor.name} leads giving`,description:`Top lifetime donor has contributed $${a.topDonor.totalGiven.toLocaleString()} — nurture this relationship for upcoming campaigns.`,impact:"positive"}),a.topEvent){let c=a.topEvent.ticketsTotal?Math.round(a.topEvent.ticketsSold/a.topEvent.ticketsTotal*100):null;b.push({title:`${a.topEvent.name} driving revenue`,description:`Highest-grossing event delivered $${a.topEvent.grossRevenue.toLocaleString()} in revenue${c?` at ${c}% capacity`:""}.`,impact:"positive"})}return a.topPage&&b.push({title:"Top content performer",description:`“${a.topPage.title}” led GA4 pageviews (${a.topPage.pageviews.toLocaleString()} views). Share this insight with marketing.`,impact:"neutral"}),b}({fundsMomentum:i,sessionsMomentum:r,avgOccupancy:s,topDonor:v?{name:v.name,totalGiven:v.totalGiven}:void 0,topEvent:t?{name:t.name,grossRevenue:t.grossRevenue,ticketsSold:t.ticketsSold,ticketsTotal:t.ticketsTotal}:void 0,topPage:u});return{generatedAt:a.toISOString(),range:b,dashboard:e,donors:f,events:{filters:c,data:g},analytics:{filters:d,data:h},metrics:{fundsMomentum:i,sessionsMomentum:r,avgOccupancy:s},highlights:w}}var s=a.i(31699);function t(a){return Number.isFinite(a)&&0!==a?`${a>0?"+":""}${(100*a).toFixed(1)} pts vs prior period`:"vs prior period"}let u={positive:"border-green-200 bg-green-50 text-green-900",negative:"border-red-200 bg-red-50 text-red-900",neutral:"border-slate-200 bg-white text-slate-700"};async function v(){let a=await r(),j=[{label:"Funds raised (YTD)",value:(0,i.formatCurrency)(a.dashboard.kpis.fundsYtd),helper:t(a.metrics.fundsMomentum)},{label:"Active donors",value:(0,i.formatNumber)(a.dashboard.kpis.activeDonors),helper:`${(0,i.formatNumber)(a.donors.summary.totalDonors)} total`},{label:"Tickets sold",value:(0,i.formatNumber)(a.dashboard.kpis.ticketsSold),helper:`${(0,i.formatPercent)(a.metrics.avgOccupancy,0)} avg capacity`},{label:"Sessions (30d)",value:(0,i.formatNumber)(a.dashboard.kpis.sessionsLast30Days),helper:t(a.metrics.sessionsMomentum)}];return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(e.PageHeader,{eyebrow:"Intelligence",title:"Integrated insights",description:"Unified dashboard for revenue, donor, event, and digital performance.",actions:(0,b.jsx)(s.InsightsReportButton,{}),children:(0,b.jsx)(e.PageHeaderMeta,{items:j,columns:4})}),(0,b.jsx)(c.Card,{title:"Insight highlights",description:"Auto-generated observations from merged datasets.",children:(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:a.highlights.map(a=>(0,b.jsxs)("div",{className:`rounded-2xl border p-4 shadow-sm transition ${u[a.impact]??u.neutral}`,children:[(0,b.jsx)("p",{className:"text-sm font-semibold",children:a.title}),(0,b.jsx)("p",{className:"mt-2 text-sm leading-6",children:a.description})]},a.title))})}),(0,b.jsx)(c.Card,{title:"Monthly performance",description:"Funds raised, tickets sold, and website sessions across the last 12 months.",children:(0,b.jsx)(f.TimeSeriesChart,{data:a.dashboard.charts.monthly,lines:[{dataKey:"funds",color:"#0f172a",name:"Funds raised ($)"},{dataKey:"tickets",color:"#2563eb",name:"Tickets sold"},{dataKey:"sessions",color:"#059669",name:"Sessions"}]})}),(0,b.jsxs)("section",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(c.Card,{title:"Top donors",description:"Highest lifetime value donors with most recent gift date.",actions:(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Avg lifetime value ",(0,i.formatCurrency)(a.donors.summary.averageLifetimeValue)]}),children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(d.Table,{children:[(0,b.jsxs)(d.THead,{children:[(0,b.jsx)(d.TH,{children:"Name"}),(0,b.jsx)(d.TH,{children:"Email"}),(0,b.jsx)(d.TH,{children:"Lifetime given"}),(0,b.jsx)(d.TH,{children:"Last gift"})]}),(0,b.jsx)(d.TBody,{children:a.donors.donors.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)(d.TD,{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsx)(d.TD,{children:a.email??"—"}),(0,b.jsx)(d.TD,{children:(0,i.formatCurrency)(a.totalGiven)}),(0,b.jsx)(d.TD,{children:a.lastGiftDate?(0,i.formatDate)(a.lastGiftDate):"No gifts"})]},a.id))})]})})}),(0,b.jsx)(c.Card,{title:"Event performance snapshot",description:"Most recent Eventbrite programs with revenue and capacity details.",actions:(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:[(0,i.formatNumber)(a.events.data.summary.upcomingEvents)," upcoming · ",(0,i.formatNumber)(a.events.data.summary.pastEvents)," past"]}),children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(d.Table,{children:[(0,b.jsxs)(d.THead,{children:[(0,b.jsx)(d.TH,{children:"Name"}),(0,b.jsx)(d.TH,{children:"Dates"}),(0,b.jsx)(d.TH,{children:"Tickets"}),(0,b.jsx)(d.TH,{children:"Capacity"}),(0,b.jsx)(d.TH,{children:"Gross revenue"})]}),(0,b.jsx)(d.TBody,{children:a.events.data.events.slice(0,5).map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)(d.TD,{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsxs)(d.TD,{className:"text-sm text-slate-600",children:[(0,i.formatDate)(a.startDate)," – ",(0,i.formatDate)(a.endDate)]}),(0,b.jsx)(d.TD,{children:(0,i.formatNumber)(a.ticketsSold)}),(0,b.jsxs)(d.TD,{children:[(0,i.formatNumber)(a.ticketsTotal)," (",(0,i.formatPercent)(a.ticketsTotal?a.ticketsSold/a.ticketsTotal:0),")"]}),(0,b.jsx)(d.TD,{children:(0,i.formatCurrency)(a.grossRevenue)})]},a.id))})]})})})]}),(0,b.jsxs)("section",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(c.Card,{title:"Donor acquisition (last 12 months)",children:(0,b.jsx)(g.BarChartComponent,{data:a.donors.charts.acquisitions,bars:[{dataKey:"value",color:"#2563eb",name:"New donors"}],footer:(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Source: eTapestry synced donors"})})}),(0,b.jsx)(c.Card,{title:"Gift distribution",children:(0,b.jsx)(h.PieChartComponent,{data:a.donors.charts.giftDistribution,footer:(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Segments by donor lifetime value"})})})]}),(0,b.jsxs)("section",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(c.Card,{title:"Sessions (last 30 days)",description:"Google Analytics 4 daily sessions trend.",children:(0,b.jsx)(f.TimeSeriesChart,{data:a.analytics.data.sessionsSeries.points,lines:[{dataKey:"value",color:"#0f172a",name:"Sessions"}],footer:a.analytics.data.sessionsSeries.error?(0,b.jsx)("p",{className:"text-sm text-red-500",children:a.analytics.data.sessionsSeries.error}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Source: Google Analytics Data API"})})}),(0,b.jsxs)(c.Card,{title:"Top pages",description:"Highest pageviews by title.",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(d.Table,{children:[(0,b.jsxs)(d.THead,{children:[(0,b.jsx)(d.TH,{children:"Path"}),(0,b.jsx)(d.TH,{children:"Title"}),(0,b.jsx)(d.TH,{children:"Pageviews"})]}),(0,b.jsx)(d.TBody,{children:a.analytics.data.topPages.rows.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)(d.TD,{className:"font-medium",children:a.path}),(0,b.jsx)(d.TD,{children:a.title}),(0,b.jsx)(d.TD,{children:(0,i.formatNumber)(a.pageviews)})]},`${a.path}-${a.title}`))})]})}),a.analytics.data.topPages.error?(0,b.jsx)("p",{className:"mt-2 text-sm text-red-500",children:a.analytics.data.topPages.error}):null]})]})]})}a.s(["default",()=>v,"dynamic",0,"force-dynamic"],98696)},85685,a=>{a.v(a=>Promise.resolve().then(()=>a(54799)))},6179,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[externals]_tty_33e910c0._.js","server/chunks/ssr/node_modules_9b06bcf1._.js"].map(b=>a.l(b))).then(()=>b(48081)))},90407,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__9eaab4c4._.js","server/chunks/ssr/node_modules_df13f179._.js","server/chunks/ssr/node_modules_node-fetch_src_index_3793b177.js"].map(b=>a.l(b))).then(()=>b(25659)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__78da5561._.js.map