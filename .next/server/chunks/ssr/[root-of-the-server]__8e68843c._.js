module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},70844,a=>{a.n(a.i(92359))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},31290,96818,18956,99602,10236,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}function e(a,b,e){let f=d(a,e?.in);return isNaN(b)?c(e?.in||a,NaN):(b&&f.setDate(f.getDate()+b),f)}function f(a,b,c){return e(a,-b,c)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInMinute",0,6e4,"millisecondsInWeek",0,6048e5],96818),a.s(["constructFrom",()=>c],18956),a.s(["toDate",()=>d],99602),a.s(["addDays",()=>e],10236),a.s(["subDays",()=>f],31290)},35330,84347,14962,a=>{"use strict";var b=a.i(7997);let c=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d};function d({title:a,description:d,className:e,children:f,actions:g}){return(0,b.jsxs)("section",{className:c("card p-6 space-y-4",e),children:[(a||d||g)&&(0,b.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[a?(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:a}):null,d?(0,b.jsx)("p",{className:"text-sm text-slate-500",children:d}):null]}),g]}),(0,b.jsx)("div",{children:f})]})}function e({eyebrow:a,title:d,description:e,actions:f,children:g,className:h}){return(0,b.jsxs)("section",{className:c("relative overflow-hidden rounded-[32px] border border-white/60 bg-white/80 p-6 shadow-[0px_25px_60px_rgba(15,23,42,0.08)] backdrop-blur",h),children:[(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute -top-16 -right-8 h-48 w-48 rounded-full bg-brand/15 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-[-60px] left-[-40px] h-44 w-44 rounded-full bg-accent/10 blur-3xl"})]}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-wrap items-start gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[a?(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-100/70 bg-slate-50/80 px-3 py-1 text-xs font-semibold uppercase tracking-[0.16em] text-slate-500",children:a}):null,(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold leading-tight text-slate-900",children:d}),e?(0,b.jsx)("p",{className:"mt-2 max-w-3xl text-sm text-slate-600",children:e}):null]})]}),f?(0,b.jsx)("div",{className:"ml-auto flex flex-col items-stretch gap-3",children:f}):null]}),g?(0,b.jsx)("div",{className:"relative z-10 mt-6",children:g}):null]})}function f({items:a,columns:d=3}){return(0,b.jsx)("div",{className:c("grid gap-4 text-sm text-slate-600",2===d?"sm:grid-cols-2":4===d?"sm:grid-cols-2 lg:grid-cols-4":"sm:grid-cols-3"),children:a.map(a=>(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-100/70 bg-white/90 px-4 py-3 shadow-inner shadow-slate-200/70",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:a.label}),(0,b.jsx)("p",{className:"mt-1 text-base font-semibold text-slate-900",children:a.value}),a.helper?(0,b.jsx)("p",{className:"mt-0.5 text-xs text-slate-500",children:a.helper}):null]},`${a.label}-${a.value}`))})}a.s(["default",0,c],84347),a.s(["Card",()=>d],35330),a.s(["PageHeader",()=>e,"PageHeaderMeta",()=>f],14962)},43116,a=>{"use strict";function b(a,c="USD",d=0){return new Intl.NumberFormat("en-US",{style:"currency",currency:c,maximumFractionDigits:d}).format(a)}function c(a,b=0){return new Intl.NumberFormat("en-US",{maximumFractionDigits:b}).format(a)}function d(a,b=1){return new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:b}).format(a)}function e(a,b={month:"short",day:"numeric",year:"numeric"}){let c="string"==typeof a?new Date(a):a;return new Intl.DateTimeFormat("en-US",b).format(c)}a.s(["formatCurrency",()=>b,"formatDate",()=>e,"formatNumber",()=>c,"formatPercent",()=>d])},48461,a=>{"use strict";var b=a.i(99602);function c(a,c){let d=(0,b.toDate)(a,c?.in);return d.setHours(0,0,0,0),d}a.s(["startOfDay",()=>c])},45310,a=>{"use strict";var b=a.i(7997),c=a.i(84347);function d({children:a,className:d}){return(0,b.jsx)("table",{className:(0,c.default)("min-w-full divide-y divide-slate-200",d),children:a})}function e({children:a}){return(0,b.jsx)("thead",{className:"bg-slate-50",children:(0,b.jsx)("tr",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:a})})}function f({children:a}){return(0,b.jsx)("tbody",{className:"divide-y divide-slate-100 bg-white text-sm text-slate-700",children:a})}function g({children:a,align:d="left",className:e}){return(0,b.jsx)("th",{scope:"col",className:(0,c.default)("px-4 py-3",{"text-left":"left"===d,"text-center":"center"===d,"text-right":"right"===d},e),children:a})}function h({children:a,align:d="left",className:e}){return(0,b.jsx)("td",{className:(0,c.default)("px-4 py-3",{"text-left":"left"===d,"text-center":"center"===d,"text-right":"right"===d},e),children:a})}a.s(["TBody",()=>f,"TD",()=>h,"TH",()=>g,"THead",()=>e,"Table",()=>d])},78824,a=>{"use strict";var b=a.i(31290),c=a.i(4709);function d(){let a=new Date;return{from:(0,b.subDays)(a,30),to:a}}async function e(a){let[b,d,e]=await Promise.all([(0,c.getSummaryMetrics)(a),(0,c.getSessionsOverTime)({...a,granularity:"DAILY"}),(0,c.getTopPages)(a)]);return{summary:b,sessionsSeries:d,topPages:e}}a.s(["defaultAnalyticsFilters",()=>d,"getAnalyticsData",()=>e])},65522,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AnalyticsRangeControls() from the server but AnalyticsRangeControls is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/analytics/_components/range-controls.tsx <module evaluation>","AnalyticsRangeControls");a.s(["AnalyticsRangeControls",0,b])},2859,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AnalyticsRangeControls() from the server but AnalyticsRangeControls is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/analytics/_components/range-controls.tsx","AnalyticsRangeControls");a.s(["AnalyticsRangeControls",0,b])},21756,a=>{"use strict";a.i(65522);var b=a.i(2859);a.n(b)},16171,a=>{"use strict";var b=a.i(7997),c=a.i(35330),d=a.i(45310),e=a.i(58388),f=a.i(21756),g=a.i(78824),h=a.i(43116),i=a.i(14962);async function j({searchParams:a}){var j;let k,l,m=await Promise.resolve(a)??{},n=(0,g.defaultAnalyticsFilters)(),o=a=>{if(!a)return;let b=new Date(a);return Number.isNaN(b.getTime())?void 0:b},p=o(m.from)??n.from,q=o(m.to)??n.to,r=await (0,g.getAnalyticsData)({from:p,to:q});return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(i.PageHeader,{eyebrow:"Digital",title:"Digital analytics",description:"GA4 insights for bhic.org traffic and engagement.",actions:(0,b.jsx)(f.AnalyticsRangeControls,{initialFrom:p.toISOString().slice(0,10),initialTo:q.toISOString().slice(0,10)}),children:(0,b.jsx)(i.PageHeaderMeta,{items:[{label:"Users",value:(0,h.formatNumber)(r.summary.users),helper:r.summary.error},{label:"Sessions",value:(0,h.formatNumber)(r.summary.sessions)},{label:"Pageviews",value:(0,h.formatNumber)(r.summary.pageviews)},{label:"Avg engagement",value:(k=Math.floor((j=r.summary.averageEngagementTime)/60),l=Math.round(j%60),`${k}m ${l}s`)}],columns:4})}),(0,b.jsx)(c.Card,{title:"Sessions over time",children:(0,b.jsx)(e.TimeSeriesChart,{data:r.sessionsSeries.points,lines:[{dataKey:"value",color:"#2563eb",name:"Sessions"}],footer:r.sessionsSeries.error?(0,b.jsx)("p",{className:"text-sm text-red-500",children:r.sessionsSeries.error}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Source: Google Analytics Data API"})})}),(0,b.jsxs)(c.Card,{title:"Top pages",description:"Pageviews from GA4",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(d.Table,{children:[(0,b.jsxs)(d.THead,{children:[(0,b.jsx)(d.TH,{children:"Page"}),(0,b.jsx)(d.TH,{children:"Title"}),(0,b.jsx)(d.TH,{children:"Pageviews"})]}),(0,b.jsx)(d.TBody,{children:r.topPages.rows.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)(d.TD,{children:a.path}),(0,b.jsx)(d.TD,{children:a.title}),(0,b.jsx)(d.TD,{children:(0,h.formatNumber)(a.pageviews)})]},`${a.path}-${a.title}`))})]})}),r.topPages.error?(0,b.jsx)("p",{className:"text-sm text-red-500",children:r.topPages.error}):null]})]})}a.s(["default",()=>j,"dynamic",0,"force-dynamic"])},85685,a=>{a.v(a=>Promise.resolve().then(()=>a(54799)))},6179,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[externals]_tty_33e910c0._.js","server/chunks/ssr/node_modules_9b06bcf1._.js"].map(b=>a.l(b))).then(()=>b(48081)))},90407,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__9eaab4c4._.js","server/chunks/ssr/node_modules_df13f179._.js","server/chunks/ssr/node_modules_node-fetch_src_index_3793b177.js"].map(b=>a.l(b))).then(()=>b(25659)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8e68843c._.js.map