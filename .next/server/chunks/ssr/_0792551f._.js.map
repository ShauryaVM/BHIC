{"version":3,"sources":["../../../../node_modules/recharts/es6/component/Cell.js","../../../../node_modules/recharts/es6/context/tooltipContext.js","../../../../src/app/%28dashboard%29/insights/_components/insights-report-button.tsx"],"sourcesContent":["/**\n * @fileOverview Cross\n */\n\nexport var Cell = _props => null;\nCell.displayName = 'Cell';","import { useAppDispatch } from '../state/hooks';\nimport { mouseLeaveItem, setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nexport var useMouseEnterItemDispatch = (onMouseEnterFromProps, dataKey) => {\n  var dispatch = useAppDispatch();\n  return (data, index) => event => {\n    onMouseEnterFromProps === null || onMouseEnterFromProps === void 0 || onMouseEnterFromProps(data, index, event);\n    dispatch(setActiveMouseOverItemIndex({\n      activeIndex: String(index),\n      activeDataKey: dataKey,\n      activeCoordinate: data.tooltipPosition\n    }));\n  };\n};\nexport var useMouseLeaveItemDispatch = onMouseLeaveFromProps => {\n  var dispatch = useAppDispatch();\n  return (data, index) => event => {\n    onMouseLeaveFromProps === null || onMouseLeaveFromProps === void 0 || onMouseLeaveFromProps(data, index, event);\n    dispatch(mouseLeaveItem());\n  };\n};\nexport var useMouseClickItemDispatch = (onMouseClickFromProps, dataKey) => {\n  var dispatch = useAppDispatch();\n  return (data, index) => event => {\n    onMouseClickFromProps === null || onMouseClickFromProps === void 0 || onMouseClickFromProps(data, index, event);\n    dispatch(setActiveClickItemIndex({\n      activeIndex: String(index),\n      activeDataKey: dataKey,\n      activeCoordinate: data.tooltipPosition\n    }));\n  };\n};","\"use client\";\r\n\r\nimport { useState, useTransition } from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nexport function InsightsReportButton() {\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  function handleDownload() {\r\n    setError(null);\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(\"/api/insights/report\");\r\n        if (!response.ok) {\r\n          throw new Error(\"Unable to generate PDF right now.\");\r\n        }\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const link = document.createElement(\"a\");\r\n        link.href = url;\r\n        link.download = `bhic-insights-${new Date().toISOString().slice(0, 10)}.pdf`;\r\n        link.click();\r\n        window.URL.revokeObjectURL(url);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(err instanceof Error ? err.message : \"Failed to download PDF.\");\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-end gap-2\">\r\n      <Button type=\"button\" onClick={handleDownload} disabled={isPending}>\r\n        {isPending ? \"Preparing PDF...\" : \"Download briefing PDF\"}\r\n      </Button>\r\n      {error ? <p className=\"text-xs text-red-500\">{error}</p> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"6CAIO,IAAI,EAAO,GAAU,KAC5B,EAAK,WAAW,CAAG,iCCLnB,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACW,EAA4B,CAAC,EAAuB,KAC7D,IAAI,EAAW,CAAA,EAAA,EAAA,cAAA,AAAc,IAC7B,MAAO,CAAC,EAAM,IAAU,UACtB,GAAsE,EAAsB,EAAM,EAAO,GACzG,EAAS,CAAA,EAAA,EAAA,OADiB,QAAQ,YACzB,AAA2B,EAAC,CACnC,WAF0D,CAE7C,IAFkD,GAE3C,GACpB,cAAe,EACf,iBAAkB,EAAK,eAAe,AACxC,GACF,CACF,EACW,EAA4B,IACrC,IAAI,EAAW,CAAA,EAAA,EAAA,cAAA,AAAc,IAC7B,MAAO,CAAC,EAAM,IAAU,UACtB,GAAsE,EAAsB,EAAM,EAAO,GACzG,EAAS,CAAA,EAAA,EAAA,OADiB,OACH,AAAd,CADyB,GAEpC,CACF,EACW,EAA4B,CAAC,EAAuB,KAC7D,IAAI,EAAW,CAAA,EAAA,CAL+C,CAK/C,IALoD,UAKpD,AAAc,IAC7B,MAAO,CAAC,EAAM,IAAU,UACtB,GAAsE,EAAsB,EAAM,EAAO,GACzG,EAAS,CAAA,EAAA,EAAA,OADiB,QAAQ,QACzB,AAAuB,EAAC,CAC/B,YAAa,GAF6C,IAEtC,CAF2C,EAG/D,cAAe,EACf,iBAAkB,EAAK,eAAe,AACxC,GACF,CACF,8JC5BA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEO,SAAS,IACd,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAW,EAAgB,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,IAwBlD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAxB1B,CAwBmC,QAxB1B,EACP,EAAS,MACT,EAAgB,UACd,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,wBAC7B,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACN,AAAJ,MAAU,qCAElB,IAAM,EAAO,MAAM,EAAS,IAAI,GAC1B,EAAM,OAAO,GAAG,CAAC,eAAe,CAAC,GACjC,EAAO,SAAS,aAAa,CAAC,KACpC,EAAK,IAAI,CAAG,EACZ,EAAK,QAAQ,CAAG,CAAC,cAAc,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,EAAG,IAAI,IAAI,CAAC,CAC5E,EAAK,KAAK,GACV,OAAO,GAAG,CAAC,eAAe,CAAC,EAC7B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,GACd,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,0BAChD,CACF,EACF,EAImD,SAAU,WACtD,EAAY,mBAAqB,0BAEnC,EAAQ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,IAAa,OAGjE","ignoreList":[0,1]}